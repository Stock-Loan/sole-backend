# ==========================================
# Database Configuration
# ==========================================
DATABASE_URL=postgresql+asyncpg://sole:sole@db:5432/sole
POSTGRES_USER=sole
POSTGRES_PASSWORD=sole
POSTGRES_DB=sole

# ==========================================
# Redis Configuration
# ==========================================
REDIS_URL=redis://redis:6379/0

# ==========================================
# Application Settings
# ==========================================
# Environment (development, production, testing)
ENVIRONMENT=development
# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO
# CORS settings (list of allowed origins)
ALLOWED_ORIGINS=["http://localhost:3000"]
# Enable HTTP Strict Transport Security
ENABLE_HSTS=true

# ==========================================
# Tenancy Configuration
# ==========================================
# Mode: single or multi
TENANCY_MODE=single
# Default organization ID for single tenancy
DEFAULT_ORG_ID=default
# Allowed hosts for multi-tenancy (empty list allows all if resolved)
ALLOWED_TENANT_HOSTS=[]

# ==========================================
# Authentication & Security
# ==========================================
# Secret key for cryptographic operations
SECRET_KEY=dev-secret-change-me-123456789

# JWT Configuration
JWT_ALGORITHM=RS256
# Provide either inline key material or paths to key files
JWT_PRIVATE_KEY_PATH=secrets/dev-jwt-private.pem
JWT_PUBLIC_KEY_PATH=secrets/dev-jwt-public.pem

# Token Expiration
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_MINUTES=10080  # 7 days
SESSION_TIMEOUT_MINUTES=30

# Password Policy
DEFAULT_PASSWORD_MIN_LENGTH=12

# ==========================================
# Rate Limiting & Protection
# ==========================================
RATE_LIMIT_PER_MINUTE=60
LOGIN_ATTEMPT_LIMIT=5
LOGIN_LOCKOUT_MINUTES=15

# ==========================================
# Infrastructure & Proxy
# ==========================================
# Number of trusted proxies in front of the app
# 0 = Direct connection
# 1 = Render, Heroku, AWS ALB (Standard PaaS)
# 2 = Cloudflare -> Nginx -> App
PROXIES_COUNT=1